#@TYPE: Machine
#@NAME: meson

#@DESCRIPTION: Machine configuration for meson systems

PREFERRED_PROVIDER_virtual/xserver ?= "xserver-xorg"
XSERVER ?= "xserver-xorg \
           xf86-input-evdev \
           xf86-input-mouse \
           xf86-video-fbdev \
           xf86-input-keyboard"

#include conf/machine/include/tune-cortexa53.inc
require conf/machine/include/tune-cortexa8.inc
require conf/machine/include/amlogic_32b.inc
#DEFAULTTUNE = "cortexa53_32-crypto"

PREFERRED_PROVIDER_virtual/egl = "libgles-eabihf-m450-wayland-fbdev"
PREFERRED_PROVIDER_virtual/libgl = "libgles-eabihf-m450-wayland-fbdev"
PREFERRED_PROVIDER_virtual/libgles1 = "libgles-eabihf-m450-wayland-fbdev"
PREFERRED_PROVIDER_virtual/libgles2 = "libgles-eabihf-m450-wayland-fbdev"

IMAGE_FSTYPES += "tar.gz ext4 cpio.gz"
#IMAGE_FSTYPES += "cpio.gz.u-boot"
#IMAGE_CLASSES += "image_types_uboot"

SERIAL_CONSOLE = "115200 ttyS0"

MACHINE_FEATURES = "usbgadget usbhost vfat alsa"

INITRAMFS_FILES = "initramfs-default"

KERNEL_MODULE_AUTOLOAD += "mali 8189es"
#ROOTFS max in KB
IMAGE_ROOTFS_SIZE_mesongxl_p212_32b = "2097152"
DISTRO_FEATURES_remove += "opengl gl"
DISTRO_FEATURES_remove += "parodus"
VIRTUAL-RUNTIME_alsa-state ?= "alsa-states"
DISTRO_FEATURES_append = " rdkbrowser2"
OVERRIDES .= ":p212:gxl"
