#@TYPE: Machine
#@NAME: meson

#@DESCRIPTION: Machine configuration for meson systems

include conf/machine/include/mesontm2.inc
require conf/machine/include/amlogic_32b.inc

PREFERRED_PROVIDER_virtual/egl = "libgles-eabihf-dvalin-wayland-drm"
PREFERRED_PROVIDER_virtual/libgl = "libgles-eabihf-dvalin-wayland-drm"
PREFERRED_PROVIDER_virtual/libgles1 = "libgles-eabihf-dvalin-wayland-drm"
PREFERRED_PROVIDER_virtual/libgles2 = "libgles-eabihf-dvalin-wayland-drm"

MACHINE_ESSENTIAL_EXTRA_RRECOMMENDS += " \
        qca6174 \
        wififw-qca6174 \
        "

KERNEL_DEVICETREE = "tm2_t962e2_llama_drm.dtb"
UBOOT_MACHINE = "tm2_t962e2_ab311_v1"
KERNEL_MODULE_AUTOLOAD += " wlan"
DISTRO_FEATURES_append = " drm"
DISTRO_FEATURES_append = " onepass"

OVERRIDES .= ":ab311:tm2:llama:onepass"
